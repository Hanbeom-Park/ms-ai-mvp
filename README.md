# Azure Migration을 위한 Cloud 리소스 설계 에이전트

## 개요

레거시 시스템을 Azure로 이전할 때 **초기 클라우드 리소스 설계를 사내 Azure 랜딩존 거버넌스 정책에 맞게 구성할 수 있도록** 도와주는 에이전드 입니다.

### 배경

현재 많은 서비스가 **IPC 환경에서 Azure로 마이그레이션**을 진행하고 있습니다.
 그러나 레거시 서비스 현황을 분석하고 Azure 환경에 맞춰 이전을 설계하는 과정에서,
 **Azure 사용 경험이 부족**하거나 **Azure 랜딩존의 정책과 가이드라인을 잘 모르는 경우**가 많습니다.

이로 인해 마이그레이션 초기 설계 단계에서 방향을 잡기 어렵고, 정책 준수 여부를 판단하는 데에도 어려움이 발생하고 있습니다.
 본 MVP 프로젝트는 이러한 문제를 해소하기 위해 Azure 설계 정책 탐색 및 초기 리소스 설계 기능을 제공합니다.

------

## 주요 기능

| 기능                                  | 설명                                                        |
| ------------------------------------- | ----------------------------------------------------------- |
| Azure 설계 가이드 기반 Q&A            | 사용자 질문에 대해 내부 설계 가이드 문서를 참조한 답변 제공 |
| AS-IS 스펙 요구사항 → TO-BE 스펙 제안 | 마이그레이션 관련 요구사항을 입력하면 스펙을 자동으로 생성  |

------

## 기술 스택

- **LangChain**: 체인 구성, 문서 검색, 프롬프트 템플릿 관리, 채팅 히스토리 저장
- **LangGraph**: LLM 흐름제어
- **Azure OpenAI**: GPT 기반 스펙 생성 및 답변
- **Azure AI Search**: 사내 가이드 문서 벡터 인덱싱
- **Streamlit**: 웹 UI
- **Python 3.13**

------

## 시스템 구성

![mvp.drawio](./asset/mvp.drawio.png)





## 프로젝트 구조

#### Lang Graph 구조

classify_input

* 요청에 대한 분류하는 노드입니다. 단순 정책 검색인지, 스펙 생성 요청인지 분류하여 다음 노드로 분기합니다.

* `gpt-4.1-mini`를 사용하여 요청을 분류합니다.


general_search

* 단순 정책에 대한 질문에 응답하는 노드입니다.
* `gpt-4.1-mini` + RAG를 사용하여 요청한 정책을 찾아 알려줍니다.

generate_spec

* AS-IS 스펙을 받아 TO-BE 설계를 해주는 노드입니다. 
* `gpt-4.1-mini` + RAG를 사용하여 요청한 정책을 찾고 해당 정책을 기준으로 `gpt-4.1`에 요청하여 상세 스펙을 뽑아냅니다.

![output](./asset/output.png)

---

## 향후 확장성

* 사내 Wiki에 파편화되어 있는 설계 가이드, 보안 정책, 운영 표준 등의 데이터를 추가로 통합하여 에이전트가 참조할 수 있도록 확장

* 다양한 정책 문서를 한 곳에서 검색·활용 가능하게 함으로써, 정보 탐색에 소요되는 시간을 단축하고 반복 질의에 따른 업무 부하를 줄이여 나간다.

## 실행 예시

### 일반 질문시

![qa](./asset/qa.png)



### TOBE 스펙 생성 요청시

![spec](./asset/spec.png)